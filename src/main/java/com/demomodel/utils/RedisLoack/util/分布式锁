分布式锁一般有三种实现方式：1. 数据库乐观锁；2. 基于Redis的分布式锁；3. 基于ZooKeeper的分布式锁。

单机器时，控制并发相对简单，使用Java提供的synchronized关键字或者显式锁ReentrantLock。
但是在分布式系统中，JVM级别的锁已经不能满足系统的需求，需要实现分布式锁，可以借助Redis或Zookeeper实现


一个分布式锁需要满足的条件：

互斥性
在任意时刻，只有一个客户端可以获得锁。

防死锁
即使获得锁的客户端在没有释放锁之前崩溃宕机，后续客户端仍然可以竞争到锁。

防止误解锁
释放锁的客户端一定是加锁的客户端，不能错误的释放其他客户端加的锁